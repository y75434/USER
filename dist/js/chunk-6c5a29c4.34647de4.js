(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c5a29c4"],{"1dde":function(t,a,s){var i=s("d039"),e=s("b622"),o=s("2d00"),n=e("species");t.exports=function(t){return o>=51||!i((function(){var a=[],s=a.constructor={};return s[n]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},2355:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mt-5 mb-5"},[s("h3",{staticClass:"mx-5"},[t._v("我的購物車")]),s("div",{staticClass:"row",staticStyle:{"justify-content":"center"}},[s("div",{staticClass:"col-md-7"},[s("table",{staticClass:"table"},[t._m(0),s("tbody",[s("tr",{staticClass:"cart"},[s("th",{staticClass:"border-0 px-0 font-weight-normal py-4 px-4",attrs:{scope:"row"}},[s("img",{staticStyle:{width:"90px",height:"90px","object-fit":"cover"},attrs:{src:"images/lesson_2.jpg"}}),s("p",{staticClass:"mb-0 font-weight-bold ml-3 d-inline-block"},[t._v(t._s(t.product.title))])]),s("td",{staticClass:"border-0 align-middle",staticStyle:{"max-width":"160px"}},[s("div",{staticClass:"input-group pr-5"},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-outline-dark border-1 py-2",attrs:{type:"button",disabled:1===t.item.quantity},on:{click:function(a){return a.preventDefault(),t.quantityUpdata(t.item.product.id,t.item.quantity-1)}}},[s("i",{staticClass:"fas fa-minus"})])]),s("input",{staticClass:"form-control border-1 text-center my-auto shadow-none",attrs:{type:"text","aria-describedby":"button-addon1",value:"1"}}),s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-outline-dark border-1 py-2",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.quantityUpdata(t.item.product.id,t.item.quantity+1)}}},[s("i",{staticClass:"fas fa-plus"})])])])]),s("td",{staticClass:"border-0 align-middle"},[s("p",{staticClass:"mb-0 ml-auto"},[t._v(t._s(t.product.price*t.cartNum))])]),t._m(1)])])])]),s("div",{staticClass:"col-md-4 "},[s("div",{staticClass:"border p-4 mb-4"},[s("h4",{staticClass:"font-weight-bold mb-4"},[t._v("訂單")]),t._m(2),s("div",{staticClass:"d-flex justify-content-between mt-4"},[s("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v("總計")]),s("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v(t._s(t._f("money")(t.cartTotal)))])]),s("a",{staticClass:"btn btn-secondary btn-block mt-4 col-md-2",attrs:{href:"#"}},[t._v("確認")])])])])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{staticClass:"border-0 px-3",attrs:{scope:"col"}},[t._v("產品名稱")]),s("th",{staticClass:"border-0 px-3",attrs:{scope:"col"}},[t._v("數量")]),s("th",{staticClass:"border-0",attrs:{scope:"col"}},[t._v("金額")]),s("th",{staticClass:"border-0",attrs:{scope:"col"}},[t._v("移除")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("td",{staticClass:"border-0 align-middle"},[s("i",{staticClass:"fas fa-times"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("table",{staticClass:"table text-dark border-bottom"},[s("tbody",[s("tr",[s("th",{staticClass:"border-0 px-0 pt-4 font-weight-normal",attrs:{scope:"row"}},[t._v("品名")]),s("td",{staticClass:"text-right border-0 px-0 pt-4"},[t._v("金額")])])])])}],o=(s("99af"),s("4160"),s("159b"),{data:function(){return{carts:{},cartTotal:0}},status:{loadingItem:""},created:function(){this.getCart()},methods:{addToCart:function(t){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t.id,this.isLoading=!1;var i="".concat("https://course-ec-api.hexschool.io/").concat("11b11a35-2274-4e22-9f5b-dda3fb171d74","/ec/shopping"),e={product:t.id,quantity:s};this.$http.post(i,e).then((function(){a.isLoading=!1,a.status.loadingItem="",a.getCart()}))},quantityUpdata:function(t,a){var s=this;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/","/api/").concat("11b11a35-2274-4e22-9f5b-dda3fb171d74","/ec/shopping"),e={product:t,quantity:a};this.cart.forEach((function(t){s.cartTotal+=t.product.price*s.quantity})),this.isLoading=!1,this.$http.patch(i,e).then((function(){s.isLoading=!1,s.getCart()}))},removeCartItem:function(t){var a=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/","/api/").concat("11b11a35-2274-4e22-9f5b-dda3fb171d74","/ec/shopping/").concat(t);this.$http.delete(s).then((function(){a.isLoading=!1,a.getCart()}))},getCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/","/api/").concat("11b11a35-2274-4e22-9f5b-dda3fb171d74","/ec/shopping");this.$http.get(a).then((function(a){t.cart=a.data.data,t.quantityUpdata(),t.isLoading=!1}))}}}),n=o,c=s("2877"),r=Object(c["a"])(n,i,e,!1,null,null,null);a["default"]=r.exports},8418:function(t,a,s){"use strict";var i=s("c04e"),e=s("9bf2"),o=s("5c6c");t.exports=function(t,a,s){var n=i(a);n in t?e.f(t,n,o(0,s)):t[n]=s}},"99af":function(t,a,s){"use strict";var i=s("23e7"),e=s("d039"),o=s("e8b5"),n=s("861d"),c=s("7b0b"),r=s("50c4"),d=s("8418"),l=s("65f0"),u=s("1dde"),p=s("b622"),h=s("2d00"),f=p("isConcatSpreadable"),b=9007199254740991,m="Maximum allowed index exceeded",v=h>=51||!e((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=u("concat"),C=function(t){if(!n(t))return!1;var a=t[f];return void 0!==a?!!a:o(t)},y=!v||!g;i({target:"Array",proto:!0,forced:y},{concat:function(t){var a,s,i,e,o,n=c(this),u=l(n,0),p=0;for(a=-1,i=arguments.length;a<i;a++)if(o=-1===a?n:arguments[a],C(o)){if(e=r(o.length),p+e>b)throw TypeError(m);for(s=0;s<e;s++,p++)s in o&&d(u,p,o[s])}else{if(p>=b)throw TypeError(m);d(u,p++,o)}return u.length=p,u}})}}]);
//# sourceMappingURL=chunk-6c5a29c4.34647de4.js.map