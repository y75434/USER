{"version":3,"sources":["webpack:///./src/views/frontend/Product.vue?5fec","webpack:///src/views/frontend/Product.vue","webpack:///./src/views/frontend/Product.vue?949b","webpack:///./src/views/frontend/Product.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","product","_v","_s","title","imageUrl","staticStyle","content","origin_price","unit","price","_f","num","directives","name","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","key","domProps","preventDefault","addToCart","_e","staticRenderFns","data","status","loadingItem","products","created","$http","get","methods","item","id","quantity","post","url","cart","then","Toast","icon","errorData","getProduct","component"],"mappings":"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","file":"js/chunk-2d0afdf8.7011adea.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product pt-3\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),(_vm.product.id)?_c('div',{staticClass:\"container pt-3\"},[_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb bg-white\"},[_c('li',{staticClass:\"breadcrumb-item text-brown\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"首頁\")])],1),_c('li',{staticClass:\"breadcrumb-item text-brown\"},[_c('router-link',{attrs:{\"to\":\"/products\"}},[_vm._v(\"課程方案\")])],1),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.product.title))])])]),_c('div',{staticClass:\"row mb-4\"},[_c('div',{staticClass:\"col-md-6 mb-5\"},[_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('img',{staticClass:\"img-fluid rounded\",attrs:{\"src\":_vm.product.imageUrl[0],\"alt\":\"\"}})])]),_c('div',{staticClass:\"col-md-6 justify-content-center align-items-center\"},[_c('div',{staticClass:\"card border-0\"},[_c('div',{staticClass:\"card-body\"},[_c('h2',{staticClass:\"card-title font-weight-bold\",staticStyle:{\"color\":\"#6e6e6e\"}},[_vm._v(_vm._s(_vm.product.title))]),_c('p',{staticClass:\"card-text\"},[_vm._v(\" \"+_vm._s(_vm.product.content)+\" \")]),_c('div',{staticClass:\"d-flex flex-column align-items-end mb-3\"},[_c('del',{staticClass:\"mb-0 mb-2\"},[_vm._v(\" 原價 \"+_vm._s(_vm.product.origin_price)+\" / \"+_vm._s(_vm.product.unit)+\" \")]),_c('p',{staticClass:\"mb-0 h5 font-weight-bold\",staticStyle:{\"color\":\"#96827B\"}},[_vm._v(\" 特價 \"+_vm._s(_vm.product.price)+\" / \"+_vm._s(_vm.product.unit)+\" \")])]),_c('p',{staticClass:\"h5 text-right\",attrs:{\"type\":\"number\"}},[_vm._v(\"小計 \"+_vm._s(_vm._f(\"product.price\")((_vm.product.price * _vm.product.num))))]),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"input-group w-50 mr-3\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.num),expression:\"product.num\"}],staticClass:\"form-control mr-3 rounded-0\",attrs:{\"name\":\"unit\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.product, \"num\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((10),function(num){return _c('option',{key:num,domProps:{\"value\":num}},[_vm._v(\" \"+_vm._s(num)+\" \"+_vm._s(_vm.product.unit)+\" \")])}),0)]),_c('button',{staticClass:\"w-50 btn-block rounded\",staticStyle:{\"color\":\"#fff\",\"background\":\"#96827B\",\"border\":\"0\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(_vm.product, _vm.product.num)}}},[_vm._v(\"加入購物車\")])])])])])])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"product pt-3\">\n    <loading :active.sync=\"isLoading\"></loading>\n    <div class=\"container pt-3\" v-if=\"product.id\">\n      <nav aria-label=\"breadcrumb\">\n        <ol class=\"breadcrumb bg-white\">\n          <li class=\"breadcrumb-item text-brown\"><router-link to=\"/\">首頁</router-link></li>\n          <li class=\"breadcrumb-item text-brown\"><router-link to=\"/products\">課程方案</router-link></li>\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\n        </ol>\n      </nav>\n      <div class=\"row mb-4\">\n        <div class=\"col-md-6 mb-5\">\n          <div class=\"d-flex justify-content-center\">\n            <img :src=\"product.imageUrl[0]\" alt=\"\" class=\"img-fluid rounded\" />\n          </div>\n        </div>\n        <div class=\"col-md-6 justify-content-center align-items-center\">\n          <div class=\"card border-0\">\n            <div class=\"card-body\">\n              <h2 class=\"card-title font-weight-bold\" style=\"color: #6e6e6e;\">{{ product.title }}</h2>\n              <p class=\"card-text\">\n                {{ product.content }}\n              </p>\n              <div class=\"d-flex flex-column align-items-end mb-3\">\n                <del class=\"mb-0 mb-2\">\n                  原價 {{ product.origin_price }} / {{ product.unit }}\n                </del>\n                <p class=\"mb-0 h5 font-weight-bold\" style=\"color:  #96827B;\">\n                特價 {{ product.price }} / {{ product.unit }}\n                </p>\n              </div>\n              <p class=\"h5 text-right\" type=\"number\">小計 {{ (product.price * product.num) | product.price  }}</p>\n              <div class=\"d-flex\">\n                <div class=\"input-group w-50 mr-3\">\n                  <select name=\"unit\" class=\"form-control mr-3 rounded-0\" v-model=\"product.num\" >\n                    <option :value=\"num\" v-for=\"num in 10\" :key=\"num\" >\n                      {{ num }} {{ product.unit }}\n                    </option>\n                  </select>\n                </div>\n                <button type=\"button\" class=\"w-50 btn-block rounded\" style=\"color: #fff; background: #96827B; border: 0;\" @click.prevent=\"addToCart(product, product.num)\">加入購物車</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Toast from '@/components/Toast'\n\nexport default {\n  data () {\n    return {\n      status: {\n        loadingItem: ''\n      },\n      products: [],\n      product: {\n        num: 1\n      }\n    }\n  },\n  created () {\n    this.isLoading = true\n    /* console.log(this.$route.params.id); */\n    const { id } = this.$route.params\n    this.$http.get(`${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_UUID}/ec/product/${id}`)\n      .then((res) => {\n        this.isLoading = false\n        this.product = res.data.data\n        this.product.num = 1 // 忘記加入導致小計NaN\n      })\n  },\n  methods: {\n    addToCart (item, quantity = 1) {\n      this.status.loadingItem = item.id\n      this.isLoading = true\n      const url = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_UUID}/ec/shopping`\n      const cart = {\n        product: item.id,\n        quantity // this.num\n      }\n      this.$http.post(url, cart).then(() => {\n        this.isLoading = false\n        this.status.loadingItem = ''\n        this.$bus.$emit('get-cart')// 點擊後把數量傳到icon'\n        Toast.fire({\n          title: '已加入購物車',\n          icon: 'success'\n        })\n      }).catch((err) => {\n        const errorData = err.response.data.errors\n        if (errorData) {\n          Toast.fire({\n            title: `${errorData}`,\n            icon: 'warning'\n          })\n        }\n      })\n    },\n    getProduct () {\n      this.$http.get(`${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/products`)\n        .then((res) => {\n          this.product = res.data.data\n        })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=2684ded8&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}