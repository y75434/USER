{"version":3,"sources":["webpack:///./src/views/frontend/Products.vue?3c35","webpack:///src/views/frontend/Products.vue","webpack:///./src/views/frontend/Products.vue?d1b1","webpack:///./src/views/frontend/Products.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_m","preventDefault","getFilter","filterType","_v","_l","item","key","id","style","backgroundImage","imageUrl","_s","title","category","price","origin_price","staticStyle","addToCart","quantity","staticRenderFns","data","status","loadingItem","products","product","num","categories","created","$http","get","methods","post","url","cart","then","Toast","icon","errorData","getCart","filter","component"],"mappings":"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","file":"js/chunk-2d0dd9be.358d0e8c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"products\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._m(0),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3 d-none d-md-block\"},[_c('div',{staticClass:\"accordion border border-bottom border-top-0 border-left-0 border-right-0 mb-3\",attrs:{\"id\":\"accordionExample\"}},[_c('div',{staticClass:\"card border-0\"},[_c('a',{staticClass:\"list-group-item list-group-item-action px-0 py-4 bg-white border border-bottom-0 border-top border-left-0 border-right-0\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getFilter(_vm.filterType = '全部商品')}}},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(\" 全部商品 \")])])]),_c('div',{staticClass:\"card border-0\"},[_c('a',{staticClass:\"list-group-item list-group-item-action px-0 py-4 bg-white border border-bottom-0 border-top border-left-0 border-right-0\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getFilter(_vm.filterType = '考試')}}},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(\" 考試 \")])])]),_c('div',{staticClass:\"card border-0\"},[_c('a',{staticClass:\"list-group-item list-group-item-action px-0 py-4 bg-white border border-bottom-0 border-top border-left-0 border-right-0\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getFilter(_vm.filterType = '口說')}}},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(\" 口說 \")])])]),_c('div',{staticClass:\"card border-0\"},[_c('a',{staticClass:\"list-group-item list-group-item-action px-0 py-4 bg-white border border-bottom-0 border-top border-left-0 border-right-0\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getFilter(_vm.filterType = '學習')}}},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(\" 學習 \")])])])])]),_c('div',{staticClass:\"col-9 mx-auto\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.categories),function(item){return _c('div',{key:item.id,staticClass:\"col-md-4\"},[_c('div',{staticClass:\"card border-0 mb-4 position-relative\"},[_c('router-link',{attrs:{\"to\":(\"/product/\" + (item.id))}},[_c('img',{staticClass:\"card-img-top border-0 rounded product-img\",style:({ backgroundImage: (\"url(\" + (item.imageUrl[0]) + \")\") })})]),_c('div',{staticClass:\"card-body p-0 \"},[_c('h4',{staticClass:\"mb-0 mt-3\"},[_vm._v(_vm._s(item.title)),_c('span',{staticClass:\"badge badge-secondary float-right\"},[_vm._v(_vm._s(item.category))])]),_c('p',{staticClass:\"card-text mb-4\"},[_vm._v(\"特價 \"+_vm._s(item.price)+\" 元\"),_c('span',{staticClass:\"text-muted float-right\"},[_c('del',[_vm._v(\"原價 \"+_vm._s(item.origin_price)+\" 元\")])])]),_c('button',{staticClass:\"productBtn mt-2\",staticStyle:{\"color\":\"#fff\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(item, _vm.quantity=1)}}},[_vm._v(\"加入購物車\")])])],1)])}),0)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mb-5 w-100\"},[_c('div',{staticClass:\"productHeader\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"products\">\n    <loading :active.sync=\"isLoading\"></loading>\n    <div class=\"mb-5 w-100\">\n      <div class=\"productHeader\">\n      </div>\n    </div>\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-3 d-none d-md-block\">\n          <div class=\"accordion border border-bottom border-top-0 border-left-0 border-right-0 mb-3\" id=\"accordionExample\">\n            <div class=\"card border-0\">\n              <a class=\"list-group-item list-group-item-action px-0 py-4 bg-white border border-bottom-0 border-top border-left-0 border-right-0\" href=\"#\" @click.prevent=\"getFilter(filterType = '全部商品')\">\n                <h4 class=\"mb-0\">\n                  全部商品\n                </h4>\n              </a>\n            </div>\n            <div class=\"card border-0\">\n              <a class=\"list-group-item list-group-item-action px-0 py-4 bg-white border border-bottom-0 border-top border-left-0 border-right-0\" href=\"#\" @click.prevent=\"getFilter(filterType = '考試')\">\n                <h4 class=\"mb-0\">\n                  考試\n                </h4>\n              </a>\n            </div>\n            <div class=\"card border-0\">\n              <a class=\"list-group-item list-group-item-action px-0 py-4 bg-white border border-bottom-0 border-top border-left-0 border-right-0\" href=\"#\" @click.prevent=\"getFilter(filterType = '口說')\">\n                <h4 class=\"mb-0\">\n                  口說\n                </h4>\n              </a>\n            </div>\n            <div class=\"card border-0\">\n              <a class=\"list-group-item list-group-item-action px-0 py-4 bg-white border border-bottom-0 border-top border-left-0 border-right-0\" href=\"#\" @click.prevent=\"getFilter(filterType = '學習')\">\n                <h4 class=\"mb-0\">\n                  學習\n                </h4>\n              </a>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-9 mx-auto\">\n          <div class=\"row\">\n            <div class=\"col-md-4\" v-for=\"item in categories\" :key=\"item.id\">\n              <div class=\"card border-0 mb-4 position-relative\">\n                <router-link :to=\"`/product/${ item.id }`\">\n                  <img class=\"card-img-top border-0 rounded product-img\" style=\"\" :style=\"{ backgroundImage: `url(${ item.imageUrl[0] })` }\">\n                </router-link>\n                  <div class=\"card-body p-0 \">\n                    <h4 class=\"mb-0 mt-3\">{{ item.title }}<span class=\"badge badge-secondary float-right\" >{{ item.category }}</span></h4>\n                    <p class=\"card-text mb-4\">特價 {{ item.price }} 元<span class=\"text-muted float-right\"> <del>原價 {{ item.origin_price }} 元</del></span></p>\n                    <button class=\"productBtn mt-2\" style=\"color: #fff;\" @click.prevent=\"addToCart(item, quantity=1)\">加入購物車</button>\n                  </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Toast from '@/components/Toast'\n\nexport default {\n  data () {\n    return {\n      isLoading: false,\n      status: {\n        loadingItem: ''// 需先給預設值不然會出錯\n      },\n      filterType: '',\n      products: [],\n      product: {\n        num: 1\n      },\n      categories: []\n    }\n  },\n  created () {\n    this.isLoading = true\n    /* console.log('UUID', process.env.VUE_APP_UUID); */\n    this.$http.get(`${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_UUID}/ec/products`)\n      .then((res) => {\n        this.products = res.data.data\n        // 把分類顯示，沒放一點進此頁時看不到產品\n        this.categories = this.products\n      })\n    this.isLoading = false\n  },\n  methods: {\n    addToCart (item, quantity = 1) {\n      this.status.loadingItem = item.id\n      this.isLoading = true\n      const url = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_UUID}/ec/shopping`\n      const cart = {\n        product: item.id,\n        quantity// quantity:quantity,的簡寫\n      }\n      this.$http.post(url, cart).then(() => {\n        this.isLoading = false\n        this.status.loadingItem = ''\n        this.$bus.$emit('get-cart')// 點擊後把數量傳到icon\n        Toast.fire({\n          title: '已加入購物車',\n          icon: 'success'\n        })\n      }).catch((err) => {\n        const errorData = err.response.data.errors\n        if (errorData) {\n          Toast.fire({\n            title: `${errorData}`,\n            icon: 'warning'\n          })\n        }\n        this.isLoading = false\n      })\n    },\n    getCart () { // 購物車\n      this.isLoading = true\n      const url = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_UUID}/ec/shopping`\n      this.get(url).then((response) => {\n        this.cart = response.data.data\n        this.isLoading = false\n        this.$bus.$emit('get-cart')// 點擊後把數量傳到icon\n      })\n    },\n    // 產品分類\n    getFilter () {\n      switch (this.filterType) {\n        case '全部商品':\n          this.categories = this.products\n          break\n        case '口說':\n          this.categories = this.products.filter((item) => item.category === '口說')\n          break\n        case '考試':\n          this.categories = this.products.filter((item) => item.category === '考試')\n          break\n        case '學習':\n          this.categories = this.products.filter((item) => item.category === '學習')\n          break\n        default:\n          break\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=c1118024&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}