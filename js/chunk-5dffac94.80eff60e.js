(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dffac94"],{"0fd0":function(t,a,c){"use strict";c.r(a);var e=function(){var t=this,a=t.$createElement,c=t._self._c||a;return c("div",{staticClass:"product pt-3"},[c("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t.product.id?c("div",{staticClass:"container pt-3"},[c("nav",{attrs:{"aria-label":"breadcrumb"}},[c("ol",{staticClass:"breadcrumb bg-white"},[c("li",{staticClass:"breadcrumb-item "},[c("router-link",{attrs:{to:"/"}},[t._v("首頁")])],1),c("li",{staticClass:"breadcrumb-item "},[c("router-link",{attrs:{to:"/products"}},[t._v("課程方案")])],1),c("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])]),c("div",{staticClass:"row mb-4 align-items-center"},[c("div",{staticClass:"col-md-6 mb-5"},[c("div",{staticClass:"d-flex justify-content-center"},[c("img",{staticClass:"img-fluid rounded",attrs:{src:t.product.imageUrl[0],alt:""}})])]),c("div",{staticClass:"col-md-6 justify-content-center align-items-center"},[c("div",{staticClass:"card border-0"},[c("div",{staticClass:"card-body"},[c("h2",{staticClass:"card-title font-weight-bold",staticStyle:{color:"#6e6e6e"}},[t._v(t._s(t.product.title))]),c("p",{staticClass:"card-text"},[t._v(" "+t._s(t.product.content)+" ")]),c("div",{staticClass:"d-flex flex-column align-items-end mb-3"},[c("del",{staticClass:"mb-0 mb-2 text-muted"},[t._v(" 原價 "+t._s(t.product.origin_price)+" / "+t._s(t.product.unit)+" ")]),c("p",{staticClass:"mb-0 h5 font-weight-bold",staticStyle:{color:"#96827B"}},[t._v(" 特價 "+t._s(t.product.price)+" / "+t._s(t.product.unit)+" ")])]),c("div",{staticClass:"d-flex"},[c("div",{staticClass:"input-group w-50 mr-3"},[c("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mr-3 rounded-0",attrs:{name:"unit"},on:{change:function(a){var c=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"num",a.target.multiple?c:c[0])}}},t._l(10,(function(a){return c("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" "+t._s(t.product.unit)+" ")])})),0)]),c("button",{staticClass:"w-50 btn-block rounded",staticStyle:{color:"#fff",background:"#96827B",border:"0"},attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.addToCart(t.product,t.product.num)}}},[t._v("加入購物車")])])])])])]),t._m(0),c("More",{attrs:{product:t.product},on:{update:t.getProduct}})],1):t._e()],1)},i=[function(){var t=this,a=t.$createElement,c=t._self._c||a;return c("h3",{staticClass:"text-muted mb-4"},[c("strong",[t._v("其他課程")])])}],s=(c("99af"),c("60c4")),r=function(){var t=this,a=t.$createElement,c=t._self._c||a;return c("div",[c("section",{staticClass:"row mb-5"},t._l(t.relatedFilter.slice(0,3),(function(a){return c("div",{key:a.id,staticClass:"card p-0 mx-2 col-md-3"},[c("a",{on:{click:function(c){return c.preventDefault(),t.goProduct(a.id)}}},[c("img",{staticClass:"card-img-top product-img",attrs:{src:a.imageUrl[0],alt:"img"}})]),c("div",{staticClass:"card-body"},[c("h5",{staticClass:"card-title text-center"},[t._v(t._s(a.title))])])])})),0)])},o=[],n=(c("4de4"),{data:function(){return{products:[]}},props:{product:{type:Object}},created:function(){this.getProduct()},methods:{getProduct:function(){var t=this;this.$http.get("".concat("https://course-ec-api.hexschool.io/","api/").concat("11b11a35-2274-4e22-9f5b-dda3fb171d74","/ec/products")).then((function(a){t.products=a.data.data})).catch((function(t){console.log(t)}))},goProduct:function(t){this.$router.push("/product/".concat(t)),this.$emit("update")}},computed:{relatedFilter:function(){var t=this;return this.products.filter((function(a){return a.id!==t.product.id&&a.category===t.product.category}))}}}),d=n,u=c("2877"),l=Object(u["a"])(d,r,o,!1,null,null,null),p=l.exports,f={data:function(){return{status:{loadingItem:""},products:[],product:{num:1,imageUrl:[]}}},components:{More:p},created:function(){var t=this;this.isLoading=!0;var a=this.$route.params.id;this.$http.get("".concat("https://course-ec-api.hexschool.io/","api/").concat("11b11a35-2274-4e22-9f5b-dda3fb171d74","/ec/product/").concat(a)).then((function(a){t.isLoading=!1,t.product=a.data.data,t.product.num=1}))},methods:{addToCart:function(t){var a=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t.id,this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/","api/").concat("11b11a35-2274-4e22-9f5b-dda3fb171d74","/ec/shopping"),i={product:t.id,quantity:c};this.$http.post(e,i).then((function(){a.isLoading=!1,a.status.loadingItem="",a.$bus.$emit("get-cart"),s["a"].fire({title:"已加入購物車",icon:"success"})})).catch((function(t){var a=t.response.data.errors;a&&s["a"].fire({title:"".concat(a),icon:"warning"})}))},getProduct:function(){var t=this;this.$http.get("".concat("https://course-ec-api.hexschool.io/").concat("11b11a35-2274-4e22-9f5b-dda3fb171d74","/ec/products")).then((function(a){t.product=a.data.data}))}}},m=f,h=(c("5a74"),Object(u["a"])(m,e,i,!1,null,null,null));a["default"]=h.exports},"5a74":function(t,a,c){"use strict";var e=c("7f16"),i=c.n(e);i.a},"7f16":function(t,a,c){}}]);
//# sourceMappingURL=chunk-5dffac94.80eff60e.js.map